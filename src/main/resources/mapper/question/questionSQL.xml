<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="question">
	<select id="selectOneQuestion" resultType="q">
		select q_no qNo,m_no mNo,q_title qTitle,q_content qContent,
		secret_status
		secretStatus,write_date writeDate,answer_status
		answerStatus,answer_date answerDate,
		filePath
		from question where q_no = #{qNo}
	</select>
	<select id="selectQuestionList" resultType="q">
		select
		q_no qNo,q.m_no mNo,m_id mId,q_title qTitle,q_content qContent,
		secret_status secretStatus,write_date writeDate,
		answer_status answerStatus,answer_date answerDate,
		filePath
		from question q,member m where q.m_no = m.m_no order by qNo desc
	</select>
	<insert id="insertQuestion" parameterType="q">
		insert into question
		values(question_seq.nextval,#{mNo},#{qTitle},#{qContent},0,sysdate,0,null,null,#{filePath})
	</insert>
</mapper>
